<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 胡邹不胡诌</title>
    <link>https://huzou.github.io/post/</link>
    <description>Recent content in Posts on 胡邹不胡诌</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>&#39;zh</language>
    <lastBuildDate>Fri, 26 Oct 2018 15:01:33 +0800</lastBuildDate>
    
	<atom:link href="https://huzou.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>TrueChain混合共识在区块链安全与性能之间的平衡艺术</title>
      <link>https://huzou.github.io/truechain%E6%B7%B7%E5%90%88%E5%85%B1%E8%AF%86%E5%9C%A8%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E4%B8%8E%E6%80%A7%E8%83%BD%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B9%B3%E8%A1%A1%E8%89%BA%E6%9C%AF/</link>
      <pubDate>Fri, 26 Oct 2018 15:01:33 +0800</pubDate>
      
      <guid>https://huzou.github.io/truechain%E6%B7%B7%E5%90%88%E5%85%B1%E8%AF%86%E5%9C%A8%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E4%B8%8E%E6%80%A7%E8%83%BD%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B9%B3%E8%A1%A1%E8%89%BA%E6%9C%AF/</guid>
      <description>共识是区块链的核心价值
在传统社会体系会中，中心化的机构、个人是传统社会信用体系的最底层机制。因为这个中心化的机构或者个人带有权威或信用属性，这一方式是人类发展过程中最具智慧的成果之一。现代社会尤其是互联网引导的信息化革命之后随之而来的人工智能时代的来临，信用体系必然也是整个社会系统的最底层机制，由于社会结构性的变化打破的传统中心化的价值体现。简单的理解就是，传统的信用价值体系已经不能完全覆盖现有社会系统的全部领域，但是，变化的社会结构最基本共识是没有发生任何变化的。这时候，我们就需要通过其他手段来实现这其中的共识价值，而区块链就是这一解决思路，但是我相信区块链肯定不是唯一的解决方案。
共识价值的表现在“共识”与“价值”两个层面，共识的字面意思就是“共同的认识”，这是客观的认识基础，就好像人与人是不同的，这种不同不仅体现在身材、长相、能力，更体现在文化、观点、想法、利益诉求等等方面。共识，简而言之，就是一个群体的成员在某一方面达成的一致意见。例如身高我们可以利用长度单位来体现差异，大家必然对长度单位必然是一种共识，那么基于这个公式，就会得出一些自己的价值判断，例如找男朋友的话找个180cm的更有安全感。
比特币的共识基础Pow工作量证明
早期的计算机网络系统跟传统的人类社会体系是惊人的一致的，都是基于中心化的应用形成现在整个互联网网络体系，社交网络、支付网络、搜索等等都有相对垄断的中心化应用维持着正常的运转。直到2008年中本聪的《比特币：一种点对点式的电子现金系统》革命性的提出了计算机的一种共识机制，工作量证明（Proof of Work，简称POW）是共识机制的一种，可简单理解为一份证明，证明你做过一定量的工作，即我通过查看工作结果就能知道你完成了指定量的工作。PoW通过评估你的工作量来决定你获得记账权的机率，工作量越大，就越有可能获得此次记账机会。
10年过去了，风雨十年也是风云十年，相信你必然对区块链已经或多或少的有很一些了解，再来谈工作量证明机制，我们是肯定了Pow最核心的价值到目前是相对最公平的共识机制，但是这种公平也已经被证明了可能或是正在被破坏。Pow以前所未有的速度吸引计算资源，挖矿造成了大量的资源消耗，尤其是ASIC（专用集成电路）大型矿机的出现，运力较少的矿场都在出局的边缘，更不用说个人挖矿，大型的矿场几乎垄断了比特币网络几乎所有的算力，所以又出现了矿池的问题。PoW共识算法算力集中化，慢慢的偏离了原来的去中心化轨道。此外，比特币交易确认需要得到大多数交易确认，区块确时间长达10分钟，每笔交易上限是7笔，要知道现在visa的平均每秒交易量上万，支付宝峰值接近9万，比特币基于Pow共识面临的最大的挑战还是效率问题和可扩展性，因为这些缺陷注定无缘大型商业应用的。
PBFT拜占庭容错 我们发现了Pow的缺点，但对于工作量的证明共识也是价值的认同的，所以现在比特币还是区块链最基础的“硬通货”，不亚于现实世界中的黄金在货币体系中的地位。读这篇文章，默认你是对比特币有一定了解的人群，我们假设一个问题，如果Pow机制如果能克服这些缺陷，是否有大型商业化应用的可能呢？
我相信这个答案是肯定的，FruitChains（水果链）有一个新的思路，康奈尔大学教授Rafael Pass，副教授Elaine Shi两个人基于中本聪比特币做出改善。采用水果链作为慢链（snailchain），⽤以代替Nakamoto(传统链),以抵御1/3−ε腐败(inhashpower)随机⼩常数ε,以获得最优的适应性。这句话的意思是系统中每次都不能超过三分之⼀的参与者是有意或⽆意的恶意节点，那么BFT共识协议就能够确保该系统的安全性。在Pow的挖矿的基础上改进了挖矿流程，在挖矿的同时产生许多水果，挖水果非常容易，有一定运气即可挖到水果在确认水果有效的新鲜度之后，只要矿工成功挖取到矿之后，需要从挖矿收益中分出一部分给挖到水果的用户。
PBFT拜占庭共识是基于BFT的改良版，在基于拜占庭容错协议的区块链应用具备很多行业性的优点，基于拜占庭将军问题，一致性的确保主要分为这三个阶段：预准备（pre-prepare）、准备(prepare)和确认(commit)。流程如下图所示：
根据上述流程，在 N ≥ 3F + 1 的情況下一致性是可能解決，N为总计算机数，F为有问题的计算机总数
N=4 F=0 时：
    得到数据 最终数据     A 1 1 1 1 1   B 1 1 1 1 1   C 1 1 1 1 1   D 1 1 1 1 1    N=4 F=1 时：</description>
    </item>
    
    <item>
      <title>水果链打破比特币桎梏，TrueChain篇</title>
      <link>https://huzou.github.io/%E6%B0%B4%E6%9E%9C%E9%93%BE%E6%89%93%E7%A0%B4%E6%AF%94%E7%89%B9%E5%B8%81%E6%A1%8E%E6%A2%8Ftruechain%E7%AF%87/</link>
      <pubDate>Fri, 10 Feb 2017 15:01:33 +0800</pubDate>
      
      <guid>https://huzou.github.io/%E6%B0%B4%E6%9E%9C%E9%93%BE%E6%89%93%E7%A0%B4%E6%AF%94%E7%89%B9%E5%B8%81%E6%A1%8E%E6%A2%8Ftruechain%E7%AF%87/</guid>
      <description>我们对区块链的理解，很多都是“盲人摸象”
说起区块链，很多人都知道区块链是一个分布式账本，是一种去中心化、去信任的集体自治的分布式数据库技术方案。
从数据的角度来看，区块链是一种几乎不可能被篡改分布式数据库，在区块链的应用里数据是分布式存储的，同时数据也是分布式记录的，由系统参与者集体参与自治维护的。
从技术的角度来看，区块链本质是很多技术整合，并不是单一的技术，这些技术通过组合形成一种全新的数据记录、存储和表达的方式，所以区块链更像是“协议”而非“技术”。
区块的核心价值在于“共识”
 共识：指一个社会不同阶层、不同利益的人所寻求的共同认识、价值、理想
 Code is Law，这是个非常性感的短句，很科幻也充满了足够的想象空间，假如有一天通过代码能实现公平与正义，将会对整个社会生产生活产生深远的影响。对区块链的公众认知可能是是引起下次行业变革的导火索，如果我们暂时还无法预料或是无法理解，那么最直观的感受，区块链之后，或许将无“码农”之说，基于开放、社区自治、共同维护的原则，贡献代码将成为全球参与，能人胜之的局面。
那么，区块链是怎样保证，开放性、自治性、信息不可被篡改或是匿名性等等这些问题的呢？回答这些问题之前，我们需要明确区块链一个认知的基本核心就是“区块链的核心价值在于共识”，这里“共识”的意思是参与者就某一区块链状态达成共同的认识，所以区块链的技术价值一定会建立在区块链的“价值共识”上的。你听过的POW、POS、DPOS、fPow、PBFT等等共识算法就是体现每一种区块链技术中的“共识”，不同的共识机制都有其自身的优势和不足之处，真因为这些优点与缺点的存在造就了区块链今日火爆的局面，同时又饱受争议。所以，我们公认的一种认知就是，区块链目前还处于早期发展阶段，但是必然会造就新的行业变革。
共识的多样性，必然的结果是共识算法的多样性，基于每一种共识算法必须运用多种技术去实现，而这些技术很多都是早就出现了并取得成熟的商业应用的技术。例如现代密码学、P2P点对点通讯、数据存储技术等等都是现成的成熟技术。2008年中本聪发表《Peer-to-Peer Electronic Cash System》开创性的，把这些现成的技术通过一种全新的方式进新重新组合，实现了点对点的电子现金系统，它使得在线支付能够直接由一方发起并支付给另一方，中间不需要通过任何金融金融机构，而且这一过程是是安全且可信的。
那么，比特币旨在解决什么问题？
我们先来聊一聊“拜占庭将军问题”
 拜占庭帝国即中世纪的土耳其，拥有巨大的财富，周围10个邻邦垂诞已久，但拜占庭高墙耸立，固若金汤，没有一个单独的邻邦能够成功入侵。任何单个邻邦入侵的都会失败，同时也有可能自身被其他10个邻邦入侵。拜占庭帝国防御能力如此之强，至少要有十个邻邦中的一半以上（5个邻邦以上结盟）同时进攻，才有可能攻破。 问题是这10个邻邦统帅将军互相并不是信任（存在叛徒）时，这种状态下要保持进攻一致，需要某种分布式协议来进行远程协调。如果每位将军向其他九位将军派出一名信使，总计需要90次传输，每位将军会收到9条信息，可能每一封都附着不同的进攻时间。此外，部分叛徒会故意答应超过一个的进攻时间，所以他们将重新广播超过一条的信息链。这个系统变成了不可靠信息和攻击时间矛盾的混合体，于是每一方都小心行事，不敢轻易相信邻国。这就是拜占庭将军问题。
 拜占庭将军故事的最后，数学家设计了一套算法，让将军们在接到上一位将军的信息之后，加上自己的签名再转给除了自己之外的其他将军，这样的信息模块就形成区块链。
而这形成的区块链，在比特币的世界里，就是我们理解的“比特币”。比特币做为一种区块链价值共识的体现，得到所有参与区块链的人认可，POW共识机制是目前为止算是最公平的共识算法。POW（Proof-of-Work）是工作量证明方法（POW工作原理详细可搜索相关文章了解），消耗的资源是计算机的计算资源以及电力能源资源，所以在共识下挖矿成为唯一公平竞争的方式。因为我们看到了比特币的公平与信任的价值，所以比特币就具备“硬通货”的属性，炒币因此而来。我们可以很明显的看出，区块链解决的是中介信任问题，即使是两个完全陌生的人在没有任何第三方机构参与的情况下通过区块链就可以完成互信的交易行为，故所有对区块链正义与讨伐，其原罪都不是区块链本身，而是在资本市场中逐利的人性。
比特币面临的问题
前面讲到了比特币诞生开始就是作为一种电子货币的形式出现，虽然比特币本身的特性中包含了区块链的特性，已经被公认为区块链公链应用。但是，目前已经证明比特币是不能被作为大规模基础应用的公链。比特币区块打包时间已经被设置为10分钟打包一个区块，每个区块中包含4000条交易数据，我们可以计算出TPS是多少？4000 / (10*60) = 6.67，没错，就是众所周知，比特币每秒只能进行大约7笔交易的原因，以太坊稍微好一些，也就10-20笔。基于这一点，比特币虽是公链却无法大规模化应用于公链应用生态中。
当然比特币面临的问题不仅仅只有TPS的问题，POW共识机制挖矿占用了过高的计算资源，而且随着计算难度逐步递增，对于计算资源以及电力资源的消耗是逐渐递增的（收益还递减）。大规模的计算资源使得普通挖矿者早已经被淘汰掉了，现在比特币挖矿集中在几大矿场，为了得到更多的比特币，很多矿场联合起来形成联合挖矿的局面，以此暴露了矿池问题，矿池的形成会直接威胁POW共识算法的公信力，自私挖矿者攻击(Selfish Mining Attack - 即25%攻击)，还有不稳定交易费的问题，比外，比特币还有着非常棘手的金融性问题，比特币是不被很多国家的金融体系所承认的，根本的问题提在于点对点的交易体系是对传统金融体系的挑战，是“中心化”与“去中心化”一场博弈。随着区块链的发展，“去中心化”与“中心化”逐渐由对立面转换为彼此共生的局面。随着区块链token经济的发展，区块链token证券化将是“币改”一个很重要的方向。
拥有足够强大计算能力会面临“自私挖矿”的问题
所以，区块链技术是在不断发展的，我们看到的区块链是还很多不成熟，还没有得到大规模生态应用的。但是，正确的东西，一定会被证明它就是正确的，这个过程也将会用越来越多正确的方法去实践，去验证，去尝试。水果链就是一次新的尝试，是针对比特币的不足之处进行了针对性的改进，基于Pow共识机制比特币之后并没有什么特别优秀的方案，水果链fPow给我们带来一些新的希望。
什么是水果链（FruitChains）？
FruitChains是由康奈尔大学教授Rafael Pass，副教授Elaine Shi两个人共同创建的，FruitChains是基于中本聪的比特币来做的改善，所以也是基于比特币链协议来实现的，和比特币不一样的地方在于加入了一个Fruit的概念，Fruit类似Block也需要POW，只是Fruit的计算难度比较低，并且水果是挂在最近的Blcok下面，交易信息都保存在Fruit里面。
由于FruitChains挖Block和挖Fruit是同时进行，并且挖Fruit的难度都极低的，挖Block 的难度是固定的，所以无需加入矿池，节点更加分散，独立化，就不会出现矿场胁持带来51%的攻击问题。挖掘Fruit难度非常小，提高TPS能力并提高响应速度，这样交易费用不稳定的问题也可以解决。
私自挖矿问题，由于Block里面包含了Fruit并且要求Fruit是最近的（新鲜度），使得攻击者私自扣留的水果失效，无法通过分叉长度抢占区块共识，也就不会出现私自挖矿的情况。
TrueChain选择FruitChains作为混合共识中的fpow部分，通过将pbft确认交易Transaction极低难度极短时间内共识成水果Fruit。
TrueChain（初链）
TrueChain是基于水果链（FruitChains）论文的工程化实现，以下是TrueChain白皮书复盘内容复盘，一张导图让你看懂什么是初链（TrueChain）。
图片压缩看不清，请转至下面链接查看完整的思维导图
百度脑图－便捷的思维工具naotu.baidu.com
总结
我们可以看到，在区块链的发展上，不管是早期比特币POW共识机制，还是POS共识机制（本篇文章未描述POS共识机制），都在不断更新和发展自身的技术体系。POS共识算法已经升级到了DPOS共识算法，而相对最公平的POW算法，也正在用fPow共识算法实现工程化实现。
我相信，区块链随着时间而越来的越成熟，短期内即可预见基于区块链公链的个行业应用生态即将到来，token经济将会为今后的商业社会带来新的可能与契机。</description>
    </item>
    
  </channel>
</rss>